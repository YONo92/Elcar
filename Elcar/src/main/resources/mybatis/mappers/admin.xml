<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.elcar.admin.AdminDAO">

	<!-- 관리자_회원 관리 -->
	<select id="selectallmemCount" resultType="int">
 		<![CDATA[
 			select count(*) from member;
 		]]>
	</select>

	<select id="selectallmemList" resultType="Member">
      <![CDATA[
         select * from (select @rownum:=@rownum+1 rnum, tot.* 
		from(select id, name, nickname, email, phone, birth from member where name like'%${mem_text}%' ) tot, 
		(select @rownum:=0) temp) sub where rnum between #{startrow} and #{startrow}+9
 		]]>
	</select>

	<!-- 관리자_드라이버 회원 관리 -->
	<select id="selectalldriverCount" resultType="int">
 		<![CDATA[
 			select count(*) from driver;
 		]]>
	</select>

	<select id="selectalldriverList" resultType="Driver">
      <![CDATA[
         select * from (select @rownum:=@rownum+1 rnum, tot.* 
		from(select id, name, getdate, carnum, cartype, img from driver where name like'%${mem_text}%' ) tot, 
		(select @rownum:=0) temp) sub where rnum between #{startrow} and #{startrow}+9
 		]]>
	</select>


</mapper>